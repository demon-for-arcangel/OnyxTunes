<div class="container">
    <app-sidebar></app-sidebar>
    <main>
        <app-account-button></app-account-button>
        <h1>Escuchado recientemente</h1> <!-- canciones sueltas y playlist que han sido escuchadas por ultima vez -->
        <h2>Especialmente para ti</h2> <!-- lista de reproduccion con canciones recomendadas y canciones que te gustan -->
        <!-- añadir canciones sueltas para meter mas recomendaciones (no importa si estas canciones ya fueron recomendadas en la playlist)-->
        @if (playlists) {
            <div class="playlists-container">
                @for (playlist of playlists; track playlist) {
                    <div class="playlist-card">
                        <!-- Revisar poner foto -->
                       <img src="{{ playlist.portadaURL ? playlist.portadaURL : 'assets/images/playlist_Default.png' }}" [alt]="playlist.nombre" class="playlist-cover"/>
                       <h3>{{ playlist.nombre }}</h3>
                        <!-- <p>{{ playlist.creador.nombre }}</p> -->
                        <button (click)="navigateToPlaylist(playlist)">Ver Playlist</button>
                    </div>
                }
            </div>
        }

        <h2>Nueva Música</h2>
        <div class="carousel-container">
            <button class="prev" (click)="scrollLeft()">&#9664;</button>
            <div class="songs-wrapper">
                <div class="songs-container">
                    @for (cancion of cancionesNuevas; track cancion) {
                        <div class="song-card">
                            <img src="{{ cancion.portadaURL ? cancion.portadaURL : 'assets/images/songs_Default.png' }}" alt="Portada de {{ cancion.titulo }}" class="cover-image"/>
                            <p class="song-title">{{ cancion.titulo }}</p>
                            <p class="song-artist">{{ cancion.artista.nombre }}</p>
                            <button (click)="navigateToSong(cancion)">Escuchar</button>
                        </div>
                    }
                </div>
            </div>
            <button class="next" (click)="scrollRight()">&#9654;</button>
        </div>

        <h2>Descubra música por generos</h2>

        <app-player></app-player>
    </main>
</div>